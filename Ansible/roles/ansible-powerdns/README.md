powerdns
========

[![Build Status](https://travis-ci.org/kbrebanov/ansible-powerdns.svg?branch=master)](https://travis-ci.org/kbrebanov/ansible-powerdns)

Installs PowerDNS

Requirements
------------

This role requires Ansible 1.9 or higher.

Role Variables
--------------

| Name                                                     | Default                                                                                                                                                                                                                                                   | Description |
|:---------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:------------|
| powerdns_authoritative                                   | true                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_version                           | 4.0.4                                                                                                                                                                                                                                                     |             |
| powerdns_recursor                                        | false                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_version                                | 4.0.6                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_allow_axfr_ips                    | [127.0.0.0/8, ::1]                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_allow_dns_update_from             | []                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_allow_notify_from                 | [0.0.0.0/0, ::/0]                                                                                                                                                                                                                                         |             |
| powerdns_authoritative_allow_unsigned_notify             | true                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_allow_unsigned_supermaster        | true                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_allow_recursion                   | [0.0.0.0/0]                                                                                                                                                                                                                                               |             |
| powerdns_authoritative_also_notify                       | []                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_any_to_tcp                        | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_api                               | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_api_key                           | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_api_readonly                      | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_cache_ttl                         | 20                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_carbon_ourname                    | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_carbon_server                     | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_carbon_interval                   | 30                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_chroot                            | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_config_name                       | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_daemon                            | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_default_ksk_algorithms            | rsasha256                                                                                                                                                                                                                                                 |             |
| powerdns_authoritative_default_soa_name                  | a.misconfigured.powerdns.server                                                                                                                                                                                                                           |             |
| powerdns_authoritative_default_soa_edit                  | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_default_soa_edit_signed           | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_default_soa_mail                  | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_default_ttl                       | 3600                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_default_zsk_algorithms            | rsasha256                                                                                                                                                                                                                                                 |             |
| powerdns_authoritative_direct_dnskey                     | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_disable_axfr                      | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_disable_axfr_rectify              | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_disable_tcp                       | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_distributor_threads               | 3                                                                                                                                                                                                                                                         |             |
| powerdns_authoritative_dname_processing                  | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_dnsupdate                         | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_do_ipv6_additional_processing     | true                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_edns_subnet_processing            | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_entropy_source                    | /dev/urandom                                                                                                                                                                                                                                              |             |
| powerdns_authoritative_guardian                          | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_launch                            | []                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_load_modules                      | []                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_local_address                     | ['0.0.0.0']                                                                                                                                                                                                                                               |             |
| powerdns_authoritative_non_local_bind                    | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_local_address_nonexist_fail       | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_local_ipv6                        | ['::']                                                                                                                                                                                                                                                    |             |
| powerdns_authoritative_local_ipv6_nonexist_fail          | false                                                                                                                                                                                                                                                     |             |
| owerdns_authoritative_local_port                         | 53                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_log_dns_details                   | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_logging_facility                  | 0                                                                                                                                                                                                                                                         |             |
| powerdns_authoritative_loglevel                          | 4                                                                                                                                                                                                                                                         |             |
| powerdns_authoritative_log_dns_queries                   | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_lua_prequery_script               | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_master                            | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_max_cache_entries                 | 1000000                                                                                                                                                                                                                                                   |             |
| powerdns_authoritative_max_ent_entries                   | 100000                                                                                                                                                                                                                                                    |             |
| powerdns_authoritative_max_nsec3_iterations              | 500                                                                                                                                                                                                                                                       |             |
| powerdns_authoritative_max_queue_length                  | 5000                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_max_tcp_connections               | 10                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_negquery_cache_ttl                | 60                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_no_config                         | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_no_shuffle                        | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_overload_queue_length             | 0                                                                                                                                                                                                                                                         |             |
| powerdns_authoritative_reuseport                         | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_security_poll_suffix              | secpoll.powerdns.com.                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_server_id                         | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_only_notify                       | [0.0.0.0/0, ::/0]                                                                                                                                                                                                                                         |             |
| powerdns_authoritative_out_of_zone_additional_processing | true                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_prevent_self_notification         | true                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_query_cache_ttl                   | 20                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_query_local_address               | 0.0.0.0                                                                                                                                                                                                                                                   |             |
| powerdns_authoritative_query_local_address6              | '::'                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_query_logging                     | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_queue_limit                       | 1500                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_receiver_threads                  | 1                                                                                                                                                                                                                                                         |             |
| powerdns_authoritative_recursive_cache_ttl               | 10                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_recursor                          | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_retrieval_threads                 | 2                                                                                                                                                                                                                                                         |             |
| powerdns_authoritative_slave                             | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_slave_cycle_interval              | 60                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_signing_threads                   | 3                                                                                                                                                                                                                                                         |             |
| powerdns_authoritative_soa_expire_default                | 604800                                                                                                                                                                                                                                                    |             |
| powerdns_authoritative_soa_minimum_ttl                   | 3600                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_soa_refresh_default               | 10800                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_soa_retry_default                 | 3600                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_tcp_control_address               | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_tcp_control_port                  | 53000                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_tcp_control_range                 | []                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_tcp_control_secret                | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_traceback_handler                 | true                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_trusted_notification_proxy        | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_udp_truncation_threshold          | 1680                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_version_string                    | full                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_webserver                         | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_webserver_address                 | 127.0.0.1                                                                                                                                                                                                                                                 |             |
| powerdns_authoritative_webserver_allow_from              | []                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_webserver_password                | ''                                                                                                                                                                                                                                                        |             |
| powerdns_authoritative_webserver_port                    | 8001                                                                                                                                                                                                                                                      |             |
| powerdns_authoritative_webserver_print_arguments         | false                                                                                                                                                                                                                                                     |             |
| powerdns_authoritative_write_pid                         | true                                                                                                                                                                                                                                                      |             |
| powerdns_recursor_allow_from                             | [127.0.0.0/8, 10.0.0.0/8, 192.168.0.0/16, 172.16.0.0/12, ::1/128, fe80::/10]                                                                                                                                                                              |             |
| powerdns_recursor_allow_from_file                        | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_any_to_tcp                             | false                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_api_config_dir                         | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_api_key                                | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_api_logfile                            | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_api_readonly                           | false                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_auth_zones                             | []                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_carbon_interval                        | 30                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_carbon_ourname                         | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_carbon_server                          | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_chroot                                 | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_client_tcp_timeout                     | 2                                                                                                                                                                                                                                                         |             |
| powerdns_recursor_config_name                            | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_daemon                                 | false                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_delegation_only                        | []                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_disable_packetcache                    | false                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_dnssec                                 | 'off'                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_dont_query                             | [127.0.0.0/8, 10.0.0.0/8, 100.64.0.0/10, 169.254.0.0/16, 192.168.0.0/16, 172.16.0.0/12, ::1/128, fc00::/7, fe80::/10, 0.0.0.0/8, 192.0.0.0/24, 192.0.2.0/24, 198.51.100.0/24, 203.0.113.0/24, 240.0.0.0/4, ::/96, ::ffff:0:0/96, 100::/64, 2001:db8::/32] |             |
| powerdns_recursor_entropy_source                         | /dev/urandom                                                                                                                                                                                                                                              |             |
| powerdns_recursor_etc_hosts_file                         | /etc/hosts                                                                                                                                                                                                                                                |             |
| powerdns_recursor_export_etc_hosts                       | false                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_export_etc_hosts_search_suffix         | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_forward_zones                          | []                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_forward_zones_file                     | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_forward_zones_recurse                  | []                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_hint_file                              | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_latency_statistic_size                 | 10000                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_local_address                          | [127.0.0.1]                                                                                                                                                                                                                                               |             |
| powerdns_recursor_local_port                             | 53                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_loglevel                               | 4                                                                                                                                                                                                                                                         |             |
| powerdns_recursor_log_common_errors                      | false                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_logging_facility                       | 0                                                                                                                                                                                                                                                         |             |
| powerdns_recursor_lua_config_file                        | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_lua_dns_script                         | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_max_cache_entries                      | 1000000                                                                                                                                                                                                                                                   |             |
| powerdns_recursor_max_cache_ttl                          | 86400                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_max_mthreads                           | 2048                                                                                                                                                                                                                                                      |             |
| powerdns_recursor_max_negative_ttl                       | 3600                                                                                                                                                                                                                                                      |             |
| powerdns_recursor_max_packetcache_entries                | 500000                                                                                                                                                                                                                                                    |             |
| powerdns_recursor_max_qperq                              | 50                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_max_tcp_clients                        | 128                                                                                                                                                                                                                                                       |             |
| powerdns_recursor_max_tcp_per_client                     | 0                                                                                                                                                                                                                                                         |             |
| powerdns_recursor_max_total_msec                         | 7000                                                                                                                                                                                                                                                      |             |
| powerdns_recursor_minimum_ttl_override                   | 0                                                                                                                                                                                                                                                         |             |
| powerdns_recursor_network_timeout                        | 1500                                                                                                                                                                                                                                                      |             |
| powerdns_recursor_non_local_bind                         | false                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_packetcache_servfail_ttl               | 60                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_packetcache_ttl                        | 3600                                                                                                                                                                                                                                                      |             |
| powerdns_recursor_pdns_distributes_queries               | true                                                                                                                                                                                                                                                      |             |
| powerdns_recursor_query_local_address                    | [0.0.0.0]                                                                                                                                                                                                                                                 |             |
| powerdns_recursor_query_local_address6                   | []                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_quiet                                  | true                                                                                                                                                                                                                                                      |             |
| powerdns_recursor_root_nx_trust                          | false                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_security_poll_suffix                   | secpoll.powerdns.com.                                                                                                                                                                                                                                     |             |
| powerdns_recursor_serve_rfc1918                          | true                                                                                                                                                                                                                                                      |             |
| powerdns_recursor_server_down_max_fails                  | 64                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_server_down_throttle_time              | 60                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_server_id                              | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_single_socket                          | false                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_spoof_nearmiss_max                     | 20                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_stack_size                             | 200000                                                                                                                                                                                                                                                    |             |
| powerdns_recursor_stats_ringbuffer_entries               | 10000                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_threads                                | 2                                                                                                                                                                                                                                                         |             |
| powerdns_recursor_trace                                  | false                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_udp_truncation_threshold               | 1680                                                                                                                                                                                                                                                      |             |
| powerdns_recursor_version_string                         | "PowerDNS Recursor {{ powerdns_recursor_version }}"                                                                                                                                                                                                       |             |
| powerdns_recursor_webserver                              | false                                                                                                                                                                                                                                                     |             |
| powerdns_recursor_webserver_address                      | [127.0.0.1]                                                                                                                                                                                                                                               |             |
| powerdns_recursor_webserver_allow_from                   | [0.0.0.0, ::/0]                                                                                                                                                                                                                                           |             |
| powerdns_recursor_webserver_password                     | ''                                                                                                                                                                                                                                                        |             |
| powerdns_recursor_webserver_port                         | 8082                                                                                                                                                                                                                                                      |             |
| powerdns_recursor_write_pid                              | true                                                                                                                                                                                                                                                      |             |
| powerdns_backend_generic_mysql_host                      | ''                                                                                                                                                                                                                                                        |             |
| powerdns_backend_generic_mysql_port                      | 3306                                                                                                                                                                                                                                                      |             |
| powerdns_backend_generic_mysql_socket                    | ''                                                                                                                                                                                                                                                        |             |
| powerdns_backend_generic_mysql_dbname                    | pdns                                                                                                                                                                                                                                                      |             |
| powerdns_backend_generic_mysql_user                      | powerdns                                                                                                                                                                                                                                                  |             |
| powerdns_backend_generic_mysql_group                     | client                                                                                                                                                                                                                                                    |             |
| powerdns_backend_generic_mysql_password                  | pdns                                                                                                                                                                                                                                                      |             |
| powerdns_backend_generic_mysql_dnssec                    | false                                                                                                                                                                                                                                                     |             |
| powerdns_backend_generic_mysql_innodb_read_commited      | true                                                                                                                                                                                                                                                      |             |
| powerdns_backend_generic_odbc_datasource                 | PowerDNS                                                                                                                                                                                                                                                  |             |
| powerdns_backend_generic_odbc_username                   | powerdns                                                                                                                                                                                                                                                  |             |
| powerdns_backend_generic_odbc_password                   | ''                                                                                                                                                                                                                                                        |             |
| powerdns_backend_generic_oracle_tnsname                  | ''                                                                                                                                                                                                                                                        |             |
| powerdns_backend_generic_oracle_dnssec                   | false                                                                                                                                                                                                                                                     |             |
| powerdns_backend_generic_postgresql_host                 | ''                                                                                                                                                                                                                                                        |             |
| powerdns_backend_generic_postgresql_port                 | 5432                                                                                                                                                                                                                                                      |             |
| powerdns_backend_generic_postgresql_dbname               | pdns                                                                                                                                                                                                                                                      |             |
| powerdns_backend_generic_postgresql_user                 | powerdns                                                                                                                                                                                                                                                  |             |
| powerdns_backend_generic_postgresql_password             | powerdns                                                                                                                                                                                                                                                  |             |
| powerdns_backend_generic_postgresql_dnssec               | false                                                                                                                                                                                                                                                     |             |

Dependencies
------------

None

Example Playbook
----------------

Installs PowerDNS
```yaml
- hosts: all
  roles:
    - kbrebanov.powerdns
```

License
-------

BSD

Author Information
------------------

Kevin Brebanov
